<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn2:process id="Process_ModelSelector" name="Model Selection Service - micro2" isExecutable="false">
    <bpmn2:startEvent id="StartEvent_1" name="Receive Selection Request">
      <bpmn2:outgoing>Flow_01</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:task id="Task_LoadDataset" name="Load Dataset from MinIO">
      <bpmn2:incoming>Flow_01</bpmn2:incoming>
      <bpmn2:outgoing>Flow_02</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_ValidateDataset" name="Validate Dataset">
      <bpmn2:incoming>Flow_02</bpmn2:incoming>
      <bpmn2:outgoing>Flow_03</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:exclusiveGateway id="Gateway_ValidDataset" name="Dataset Valid?">
      <bpmn2:incoming>Flow_03</bpmn2:incoming>
      <bpmn2:outgoing>Flow_Valid</bpmn2:outgoing>
      <bpmn2:outgoing>Flow_Invalid</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:endEvent id="End_Error" name="Return Error">
      <bpmn2:incoming>Flow_Invalid</bpmn2:incoming>
      <bpmn2:errorEventDefinition />
    </bpmn2:endEvent>
    <bpmn2:task id="Task_DetectTarget" name="Detect Target Column">
      <bpmn2:incoming>Flow_Valid</bpmn2:incoming>
      <bpmn2:outgoing>Flow_04</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_AnalyzeColumns" name="Analyze Column Types">
      <bpmn2:incoming>Flow_04</bpmn2:incoming>
      <bpmn2:outgoing>Flow_05</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:exclusiveGateway id="Gateway_TaskType" name="Task Type?">
      <bpmn2:incoming>Flow_05</bpmn2:incoming>
      <bpmn2:outgoing>Flow_Classification</bpmn2:outgoing>
      <bpmn2:outgoing>Flow_Regression</bpmn2:outgoing>
      <bpmn2:outgoing>Flow_Clustering</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:task id="Task_Classification" name="Classification Logic">
      <bpmn2:incoming>Flow_Classification</bpmn2:incoming>
      <bpmn2:outgoing>Flow_Class_Done</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_Regression" name="Regression Logic">
      <bpmn2:incoming>Flow_Regression</bpmn2:incoming>
      <bpmn2:outgoing>Flow_Reg_Done</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_Clustering" name="Clustering Logic">
      <bpmn2:incoming>Flow_Clustering</bpmn2:incoming>
      <bpmn2:outgoing>Flow_Clust_Done</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:exclusiveGateway id="Gateway_Merge">
      <bpmn2:incoming>Flow_Class_Done</bpmn2:incoming>
      <bpmn2:incoming>Flow_Reg_Done</bpmn2:incoming>
      <bpmn2:incoming>Flow_Clust_Done</bpmn2:incoming>
      <bpmn2:outgoing>Flow_06</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:task id="Task_AnalyzeDataset" name="Analyze Dataset Characteristics">
      <bpmn2:incoming>Flow_06</bpmn2:incoming>
      <bpmn2:outgoing>Flow_07</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_GetCatalog" name="Get Model Catalog">
      <bpmn2:incoming>Flow_07</bpmn2:incoming>
      <bpmn2:outgoing>Flow_08</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_FilterModels" name="Filter Models by Task Type">
      <bpmn2:incoming>Flow_08</bpmn2:incoming>
      <bpmn2:outgoing>Flow_09</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_ScoreModels" name="Calculate Compatibility Scores">
      <bpmn2:incoming>Flow_09</bpmn2:incoming>
      <bpmn2:outgoing>Flow_10</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_RankModels" name="Rank and Select Top Models">
      <bpmn2:incoming>Flow_10</bpmn2:incoming>
      <bpmn2:outgoing>Flow_11</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_BuildResponse" name="Build Response with Recommendations">
      <bpmn2:incoming>Flow_11</bpmn2:incoming>
      <bpmn2:outgoing>Flow_12</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:endEvent id="End_Success" name="Return Model Candidates">
      <bpmn2:incoming>Flow_12</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="Flow_01" sourceRef="StartEvent_1" targetRef="Task_LoadDataset" />
    <bpmn2:sequenceFlow id="Flow_02" sourceRef="Task_LoadDataset" targetRef="Task_ValidateDataset" />
    <bpmn2:sequenceFlow id="Flow_03" sourceRef="Task_ValidateDataset" targetRef="Gateway_ValidDataset" />
    <bpmn2:sequenceFlow id="Flow_Valid" name="Yes" sourceRef="Gateway_ValidDataset" targetRef="Task_DetectTarget" />
    <bpmn2:sequenceFlow id="Flow_Invalid" name="No" sourceRef="Gateway_ValidDataset" targetRef="End_Error" />
    <bpmn2:sequenceFlow id="Flow_04" sourceRef="Task_DetectTarget" targetRef="Task_AnalyzeColumns" />
    <bpmn2:sequenceFlow id="Flow_05" sourceRef="Task_AnalyzeColumns" targetRef="Gateway_TaskType" />
    <bpmn2:sequenceFlow id="Flow_Classification" name="Classification" sourceRef="Gateway_TaskType" targetRef="Task_Classification" />
    <bpmn2:sequenceFlow id="Flow_Regression" name="Regression" sourceRef="Gateway_TaskType" targetRef="Task_Regression" />
    <bpmn2:sequenceFlow id="Flow_Clustering" name="Clustering" sourceRef="Gateway_TaskType" targetRef="Task_Clustering" />
    <bpmn2:sequenceFlow id="Flow_Class_Done" sourceRef="Task_Classification" targetRef="Gateway_Merge" />
    <bpmn2:sequenceFlow id="Flow_Reg_Done" sourceRef="Task_Regression" targetRef="Gateway_Merge" />
    <bpmn2:sequenceFlow id="Flow_Clust_Done" sourceRef="Task_Clustering" targetRef="Gateway_Merge" />
    <bpmn2:sequenceFlow id="Flow_06" sourceRef="Gateway_Merge" targetRef="Task_AnalyzeDataset" />
    <bpmn2:sequenceFlow id="Flow_07" sourceRef="Task_AnalyzeDataset" targetRef="Task_GetCatalog" />
    <bpmn2:sequenceFlow id="Flow_08" sourceRef="Task_GetCatalog" targetRef="Task_FilterModels" />
    <bpmn2:sequenceFlow id="Flow_09" sourceRef="Task_FilterModels" targetRef="Task_ScoreModels" />
    <bpmn2:sequenceFlow id="Flow_10" sourceRef="Task_ScoreModels" targetRef="Task_RankModels" />
    <bpmn2:sequenceFlow id="Flow_11" sourceRef="Task_RankModels" targetRef="Task_BuildResponse" />
    <bpmn2:sequenceFlow id="Flow_12" sourceRef="Task_BuildResponse" targetRef="End_Success" />
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_ModelSelector">
      <bpmndi:BPMNShape id="StartEvent_1_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="135" y="145" width="70" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_LoadDataset_di" bpmnElement="Task_LoadDataset">
        <dc:Bounds x="240" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_ValidateDataset_di" bpmnElement="Task_ValidateDataset">
        <dc:Bounds x="390" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_ValidDataset_di" bpmnElement="Gateway_ValidDataset" isMarkerVisible="true">
        <dc:Bounds x="545" y="95" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="531" y="71" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="End_Error_di" bpmnElement="End_Error">
        <dc:Bounds x="552" y="232" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="535" y="275" width="70" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_DetectTarget_di" bpmnElement="Task_DetectTarget">
        <dc:Bounds x="650" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_AnalyzeColumns_di" bpmnElement="Task_AnalyzeColumns">
        <dc:Bounds x="800" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_TaskType_di" bpmnElement="Gateway_TaskType" isMarkerVisible="true">
        <dc:Bounds x="955" y="95" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="950" y="71" width="60" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Classification_di" bpmnElement="Task_Classification">
        <dc:Bounds x="1060" y="20" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Regression_di" bpmnElement="Task_Regression">
        <dc:Bounds x="1060" y="120" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_Clustering_di" bpmnElement="Task_Clustering">
        <dc:Bounds x="1060" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_Merge_di" bpmnElement="Gateway_Merge" isMarkerVisible="true">
        <dc:Bounds x="1215" y="95" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_AnalyzeDataset_di" bpmnElement="Task_AnalyzeDataset">
        <dc:Bounds x="1320" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_GetCatalog_di" bpmnElement="Task_GetCatalog">
        <dc:Bounds x="1470" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_FilterModels_di" bpmnElement="Task_FilterModels">
        <dc:Bounds x="1620" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_ScoreModels_di" bpmnElement="Task_ScoreModels">
        <dc:Bounds x="1770" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_RankModels_di" bpmnElement="Task_RankModels">
        <dc:Bounds x="1920" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_BuildResponse_di" bpmnElement="Task_BuildResponse">
        <dc:Bounds x="2070" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="End_Success_di" bpmnElement="End_Success">
        <dc:Bounds x="2222" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2206" y="145" width="68" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_01_di" bpmnElement="Flow_01">
        <di:waypoint x="188" y="120" />
        <di:waypoint x="240" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02_di" bpmnElement="Flow_02">
        <di:waypoint x="340" y="120" />
        <di:waypoint x="390" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03_di" bpmnElement="Flow_03">
        <di:waypoint x="490" y="120" />
        <di:waypoint x="545" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Valid_di" bpmnElement="Flow_Valid">
        <di:waypoint x="595" y="120" />
        <di:waypoint x="650" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="613" y="102" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Invalid_di" bpmnElement="Flow_Invalid">
        <di:waypoint x="570" y="145" />
        <di:waypoint x="570" y="232" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="578" y="186" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04_di" bpmnElement="Flow_04">
        <di:waypoint x="750" y="120" />
        <di:waypoint x="800" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_05_di" bpmnElement="Flow_05">
        <di:waypoint x="900" y="120" />
        <di:waypoint x="955" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Classification_di" bpmnElement="Flow_Classification">
        <di:waypoint x="980" y="95" />
        <di:waypoint x="980" y="60" />
        <di:waypoint x="1060" y="60" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="976" y="43" width="68" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Regression_di" bpmnElement="Flow_Regression">
        <di:waypoint x="1005" y="120" />
        <di:waypoint x="1033" y="120" />
        <di:waypoint x="1033" y="160" />
        <di:waypoint x="1060" y="160" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="997" y="143" width="58" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Clustering_di" bpmnElement="Flow_Clustering">
        <di:waypoint x="980" y="145" />
        <di:waypoint x="980" y="260" />
        <di:waypoint x="1060" y="260" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="987" y="243" width="53" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Class_Done_di" bpmnElement="Flow_Class_Done">
        <di:waypoint x="1160" y="60" />
        <di:waypoint x="1240" y="60" />
        <di:waypoint x="1240" y="95" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Reg_Done_di" bpmnElement="Flow_Reg_Done">
        <di:waypoint x="1160" y="160" />
        <di:waypoint x="1240" y="160" />
        <di:waypoint x="1240" y="145" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_Clust_Done_di" bpmnElement="Flow_Clust_Done">
        <di:waypoint x="1160" y="260" />
        <di:waypoint x="1240" y="260" />
        <di:waypoint x="1240" y="145" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06_di" bpmnElement="Flow_06">
        <di:waypoint x="1265" y="120" />
        <di:waypoint x="1320" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07_di" bpmnElement="Flow_07">
        <di:waypoint x="1420" y="120" />
        <di:waypoint x="1470" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08_di" bpmnElement="Flow_08">
        <di:waypoint x="1570" y="120" />
        <di:waypoint x="1620" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09_di" bpmnElement="Flow_09">
        <di:waypoint x="1720" y="120" />
        <di:waypoint x="1770" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10_di" bpmnElement="Flow_10">
        <di:waypoint x="1870" y="120" />
        <di:waypoint x="1920" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11_di" bpmnElement="Flow_11">
        <di:waypoint x="2020" y="120" />
        <di:waypoint x="2070" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12_di" bpmnElement="Flow_12">
        <di:waypoint x="2170" y="120" />
        <di:waypoint x="2222" y="120" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>
